<html>
  <head>
	<meta charset="UTF-8">
    <script src="lib/aframe.min.js"></script>
	<script src="lib/aframe-extras.min.js"></script>
	<script src="lib/aframe-gltf-part-component.min.js"></script>
	<script src="lib/aframe-event-set-component.min.js"></script>
	<script src="lib/aframe-particle-system-component.min.js"></script>
	<script src="lib/aframe-htmlembed-component.js"></script> 
	<script src="lib/aframe-thumb-controls-component.min.js"></script>

  </head>
  <title>MAA5</title>
  <body>
  <script>
  AFRAME.registerComponent('foo', {
	schema: {
		page: {type: 'string', default: 'p1'}
	},
    init: function() {
	  var movep = "descriptions/";
	  var res = movep.concat(this.data.page);
      this.el.addEventListener('click', (e) => {
		if(AFRAME.utils.device.checkHeadsetConnected () === false || AFRAME.utils.device.isMobile () === true)
		{
			window.open(res);
		}
      })
    }
  });

</script>
    <a-scene stats loading-screen="dotsColor: red; backgroundColor: blue" renderer="antialias: true; alpha: true; colorManagement: true" raycaster="objects: .clickable" cursor="rayOrigin:mouse">
		<a-assets timeout="10000">
			<a-asset-item id="galleryModel" src="models/scene2.gltf"></a-asset-item>
			<a-asset-item id="navMesh" src="models/navmesh.gltf"></a-asset-item>
			<a-asset-item id="frame1" src="models/frame1.gltf"></a-asset-item>
			<img id="sky" src="PAN.jpg">
		</a-assets>
		<!-- <a-entity gltf-model="#navMesh" nav-mesh></a-entity> -->
		<a-sky class="not-clickable" src="#sky" rotation="0 100 0" static-body></a-sky>
		<a-entity class="not-clickable" gltf-model="#navMesh" nav-mesh visible="false" static-body></a-entity>
		<a-entity class="clickable" gltf-model="#frame1" foo="page: p1.html"
			 event-set__mouseenter="position: -0.05 0 0"			 
             event-set__mouseleave="position: 0 0 0">
			 </a-entity>
		<a-entity id="rig" position="9.9 0.3 2.4" rotation="0 90 0"	movement-controls="constrainToNavMesh: true; speed: 0.1">
			<a-camera = "active: true"
				position="0 1.4 0"
				wasd-controls-enabled="false"
							>
			</a-camera>
			<a-entity laser-controls="hand: right" thumb-controls="hand: right"></a-entity> 
			<a-entity oculus-touch-controls="hand: left" ></a-entity>
			<!-- <a-entity oculus-touch-controls="hand: left"></a-entity>
			<a-entity oculus-touch-controls="hand: right"></a-entity> -->
		</a-entity>
		<a-entity class="not-clickable" gltf-model="#galleryModel" position="0 0 0" static-body></a-entity>
		<!-- <a-entity position="0 2.25 -15" particle-system="preset: dust"></a-entity> -->
		<a-entity class="not-clickable" position="5.616 5.51308 0" particle-system="preset: snow; maxAge: 20; positionSpread: 2 2 2; rotationAngle: 3.14; rotationAngleSpread: 1; accelerationValue: 0 0 0; accelerationSpread: 0.06 0 0.06; velocityValue: 0 0.8 0; velocitySpread: 0.2 0.15 0.2; dragValue: 0.32; dragSpread: 0.15; color: #dcdcdc, #101010; size: 0.5; duration: NaN; particleCount: 10; texture: models/textures/leaf.png; randomise: true; opacity: 1; blending: 1"></a-entity>
		<!-- <a-entity htmlembed position="0 2 -5">
			<h1>An Example</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
			<img src="modelstmp/textures/5_stairways-to-Hikosan.jpg" alt="image">
		</a-entity> -->
		<a-entity light="type: spot; castShadow: true; angle: 50.2; intensity: 0.84; penumbra: 0.25" visible="" position="11.572 2.815 5.24088" rotation="-6.000000000000001 180 0" static-body></a-entity>
		<a-entity light="type: spot; castShadow: true; angle: 50.2; intensity: 0.84; penumbra: 0.25" visible="" position="8.28 2.82199 5.2174" rotation="-6	180 0" static-body></a-entity>
		<a-entity light="type: spot; castShadow: true; angle: 50.2; intensity: 0.84; penumbra: 0.25" visible="" position="2.63 2.82199 5.2174" rotation="-6	180 0" static-body></a-entity>
		<a-entity light="type: spot; castShadow: true; angle: 50.2; intensity: 0.84; penumbra: 0.25" visible="" position="-0.34 2.82199 5.2174" rotation="-6 180 0" static-body></a-entity>

		<a-entity light="type: ambient; color: #BBB" static-body></a-entity>
		<a-entity light="type: directional; color: #EEE; intensity: 1.0" position="-1 1 0" static-body></a-entity>
		<a-entity gltf-part="src: #galleryModel; part: Frame6" 
			 event-set__mouseenter="position: 0 0 0"			 
             event-set__mouseleave="position: 0 0 0">
			 </a-entity>
		
	 

    </a-scene>
  </body>
</html>